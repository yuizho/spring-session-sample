<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="621px" preserveAspectRatio="none" style="width:337px;height:621px;" version="1.1" viewBox="0 0 337 621" width="337px" zoomAndPan="magnify"><defs><filter height="300%" id="f16pe6ynx5ay11" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[b6eb00f1dce6609a2eecce9b96b43a0a]
cluster docker compose--><polygon fill="#FFFFFF" filter="url(#f16pe6ynx5ay11)" points="22,139,32,129,315,129,315,527,305,537,22,537,22,139" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="305" x2="314" y1="139" y2="130"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="305" y1="139" y2="139"/><line style="stroke: #000000; stroke-width: 1.5;" x1="305" x2="305" y1="139" y2="537"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="131" x="99" y="154.9951">docker compose</text><!--MD5=[b7709df717efd9e6df0e9843c5de81db]
entity Nginx--><rect fill="#FEFECE" filter="url(#f16pe6ynx5ay11)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="60" x="159" y="169"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="154" y="174"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="154" y="195.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="169" y="191.9951">Nginx</text><!--MD5=[eb5c9a929dbcbe0bbb8e4e2e5e64c8a8]
entity Spring Boot A--><rect fill="#FEFECE" filter="url(#f16pe6ynx5ay11)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="38" y="282"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="33" y="287"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="33" y="308.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="100" x="48" y="304.9951">Spring Boot A</text><!--MD5=[13fe5bc5a6d0a3a5f3856b77416413d7]
entity Spring Boot B--><rect fill="#FEFECE" filter="url(#f16pe6ynx5ay11)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="159" y="379"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="154" y="384"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="154" y="405.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="100" x="169" y="401.9951">Spring Boot B</text><!--MD5=[f96d690baea4a0823d36c98ba0c3a2b4]
entity Redis--><path d="M106.5,486 C106.5,476 136,476 136,476 C136,476 165.5,476 165.5,486 L165.5,511.2969 C165.5,521.2969 136,521.2969 136,521.2969 C136,521.2969 106.5,521.2969 106.5,511.2969 L106.5,486 " fill="#FEFECE" filter="url(#f16pe6ynx5ay11)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M106.5,486 C106.5,496 136,496 136,496 C136,496 165.5,496 165.5,486 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="116.5" y="512.9951">Redis</text><!--MD5=[23555a4f9c8a267cdfd801ad53ceaf15]
entity browser--><ellipse cx="189" cy="37" fill="#FEFECE" filter="url(#f16pe6ynx5ay11)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58" x="160" y="66.9951">browser</text><path d="M34,584 L34,609.1328 A0,0 0 0 0 34,609.1328 L238,609.1328 A0,0 0 0 0 238,609.1328 L238,594 L228,584 L140,584 L136,521.2839 L132,584 L34,584 A0,0 0 0 0 34,584 " fill="#FBFB77" filter="url(#f16pe6ynx5ay11)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M228,584 L228,594 L238,594 L228,584 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="183" x="40" y="601.0669">the all session is stored here</text><!--MD5=[c2e029b9493931d5921ea9390237d8e6]
link Nginx to Spring Boot A--><path d="M173.586,205.217 C165.8,214.027 156.274,224.981 148,235 C136.385,249.066 123.739,265.26 114.072,277.84 " fill="none" id="Nginx-&gt;Spring Boot A" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="110.913,281.959,119.5635,277.2507,113.9553,277.9911,113.2149,272.3829,110.913,281.959" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="69" x="149" y="248.0669">app1:8080</text><!--MD5=[b185a08085ba82455a397ed25bd42baa]
link Nginx to Spring Boot B--><path d="M205.514,205.258 C212.334,213.562 219.463,224.077 223,235 C238.306,282.274 230.433,341.503 224.187,373.305 " fill="none" id="Nginx-&gt;Spring Boot B" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="223.124,378.541,228.8339,370.5162,224.1183,373.6409,220.9937,368.9253,223.124,378.541" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="69" x="232" y="304.5669">app2:8080</text><!--MD5=[dec6fa5ca2d56df59161633c23ca50ca]
link Spring Boot A to Redis--><path d="M101.3058,318.094 C107.938,352.39 122.909,429.805 130.842,470.826 " fill="none" id="Spring Boot A-&gt;Redis" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="131.82,475.883,134.0397,466.2875,130.8713,470.9738,126.185,467.8054,131.82,475.883" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[27976812f7fde5ecdc6b720a9493f36c]
link Spring Boot B to Redis--><path d="M204.543,415.332 C191.502,430.964 172.152,454.161 157.334,471.925 " fill="none" id="Spring Boot B-&gt;Redis" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="154.055,475.856,162.8923,471.5082,157.2583,472.0169,156.7497,466.3829,154.055,475.856" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[539e3c6d8663de02c5a8c19a35e0e956]
link browser to Nginx--><path d="M189,46.381 C189,68.67 189,129.985 189,163.464 " fill="none" id="browser-&gt;Nginx" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="189,168.587,193,159.587,189,163.587,185,159.587,189,168.587" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="190" y="109.0669">localhost:8080</text><!--MD5=[c081cda8b47323452defa809d2062308]
@startuml
node "docker compose" {
    [Nginx]
    [Nginx] - -> [Spring Boot A]: app1:8080
    [Nginx] - - -> [Spring Boot B]: app2:8080
    database Redis
    [Spring Boot A] - - -> Redis
    [Spring Boot B] - -> Redis
}
browser - -> [Nginx]: localhost:8080
note bottom of Redis
   the all session is stored here
end note
@enduml

PlantUML version 1.2020.10(Sun May 17 09:48:49 UTC 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>